<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>combine</title>
  <link href="./index.css" rel="stylesheet" >
</head>

<body>
  <button class="btn-toggle">Toggle Dark-Mode</button>
  <h1>Hey there! This is just a title</h2>
    <p>I am just a boring text, existing here solely for the purpose of this demo</p>
    <p>And I am just another one like the one above me, because two is better than having only one</p>
    <a href="#">I am a link, don't click me!</a>
    <script>
        const btn = document.querySelector(".btn-toggle");
        const prefersDarkScheme = window.matchMedia("(prefers-color-scheme: dark)");
        const currentTheme = localStorage.getItem("theme");

        if (currentTheme == "dark") {
            document.body.classList.toggle("dark-mode");
            console.log("dark");
        
        } else if (currentTheme == "light") {
            
            document.body.classList.toggle("light-mode");
            console.log("light");
        }

        btn.addEventListener("click", function() {
            if (prefersDarkScheme.matches) {
                document.body.classList.toggle("light-mode");            
                var theme = document.body.classList.contains("light-mode") ? "light" : "dark";
            } else {            
                document.body.classList.toggle("dark-mode");
                var theme = document.body.classList.contains("dark-mode") ? "dark" : "light";
            }
            localStorage.setItem("theme", theme);
        });
    </script>
</body>

</html>